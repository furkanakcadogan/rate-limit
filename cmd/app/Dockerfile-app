FROM golang:latest

WORKDIR /cmd/app

# Copy go.mod and go.sum for dependency management
COPY go.mod .
COPY go.sum .

# Download dependencies
RUN go mod download

# Copy the application source code
COPY cmd/app/app.go cmd/app/app.go

# Build the application
RUN go build -o /myapp cmd/app/app.go

# Command to run the executable
CMD ["/cmd/app"]
